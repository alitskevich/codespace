<components>
  <component id="Page.AddText">
    <BrowserService Ref="browser" title="{R.name}" />
    <SimpleWordsStore Ref="words" />
    <Header />
    <header class="flex items-center mx-4">
      <!-- <Logo /> -->
      <div class="flex-1"></div>
      <AddText />
    </header>

    <Connector data="<-words.word" change="-> value" />

    <div class="w-full flex flex-col flex-1">
      <div class="prev-item flex items-center justify-center text-2xl">
        <span>pre</span>
      </div>
      <div class="cur-item flex flex-1 items-center justify-center text-4xl">
        <div class="flex-start" click="-> words.determineWord()">
          -</div>
        <div class="flex items-center justify-center flex-1">
          <span class="pr-2" Each="w of value.names">{w.id}</span>
        </div>

        <div class="flex-end" click="-> words.determineWord()">+
        </div>
      </div>
      <div class="next-item flex items-center justify-center text-2xl">
        <span>next</span>
      </div>
    </div>
  </component>

  <component id="AddText">
    <Btn class="add-text-btn w-8 h-8 flex-end select-none" mode="primary" title="+" action="-> store.open()" />
    <AddTextStore Ref="store" fromClipboard="<-browser.fromClipboard" parser="<-words.uploadText" />

    <Modal open="<-store.opened" If="<-store.opened" close="-> store.close()" class="top-12">
      <Modal:header>
        <h3 class="text-xl font-semibold text-sky-500">Add new text</h3>
      </Modal:header>
      <textarea autofocus class="input px-2 w-full" style="min-height:16rem;" change="-> store.value=data.value"
        value="<-store.value"></textarea>
      <Modal:footer>
        <div class="flex justify-between w-full">
          <FieldHint class="mt-4 flex-1" value="{hint}" />
          <Btn class="" mode="primary" title="OK" action="-> store.submit()" />
        </div>
      </Modal:footer>
    </Modal>
  </component>

</components>